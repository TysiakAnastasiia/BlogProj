# Post Blog Platform

Мінімалістична, але повнофункціональна платформа для управління контентом, розроблена на базі JavaScript з використанням React та Node.js (Express). В якості бази даних використовується MySQL. Проєкт реалізує патерн **Model-View-Controller (MVC)** та підтримує **поліморфні сутності**.

## Можливості Проєкту

  * **Повне Управління Контентом (CRUD):** Користувачі можуть створювати, переглядати, редагувати та видаляти пости.
  * **Два Типи Контенту:** Підтримка двох різних сутностей — **Пости** та **Фільми** — з єдиним інтерфейсом дашборда.
  * **Поліморфні Лайки та Коментарі:** Таблиці `likes` та `comments` прив'язані до обох типів контенту (`post_id` + `item_type`), що забезпечує гнучкість системи.
  * **Авторизація та Права Власності:** Реалізовано захист маршрутів за допомогою JWT та перевірку прав власності на бекенді при редагуванні/видаленні контенту.
  * **Ефективний Пошук:** Фільтрація контенту виконується на стороні сервера за допомогою параметрів запиту (query params) та Debouncing на фронтенді.
  * **Модернізований UX:** Стилізовані Toast-повідомлення та модальні вікна підтвердження замінюють нативні браузерні вікна.

## Технологічний Стек

  * **Frontend:** React.js, React Router, Axios.
  * **Backend:** Node.js, Express.js.
  * **Database:** MySQL (через `mysql2/promise`).
  * **Security:** JWT, `bcryptjs`, CORS.

## Як Запустити Проєкт (Локальна Машина)

Для успішного запуску необхідно мати встановлені **Node.js** та **MySQL Server**.

### 1\. Конфігурація Бази Даних

1.  Створіть нову базу даних у вашому MySQL-клієнті (наприклад, **`blogdb`**).

2.  Створіть необхідні таблиці. **Важливо:** Таблиці `likes` та `comments` повинні мати колонку **`item_type`** (VARCHAR, 'post' або 'movie').

3.  У корені папки **`server`** створіть файл **`.env`** і додайте конфігурацію:

    ```env
    PORT=5000
    JWT_SECRET=your_super_secret_key_change_this

    # Конфігурація MySQL
    DB_HOST=localhost
    DB_USER=root
    DB_PASSWORD=YOUR_MYSQL_PASSWORD
    DB_NAME=blogdb
    ```

### 2\. Встановлення Залежностей

Виконайте ці команди у **двох різних вікнах терміналу** (окремо для бекенду та фронтенду).

**A. Бекенд (Папка `server`)**

```bash
cd server
npm install
```

**B. Фронтенд (Коренева папка проекту)**

```bash
npm install
```

### 3\. Запуск Серверів

**A. Запуск Бекенду (в окремому терміналі)**

```bash
cd server
npm start
```

**B. Запуск Фронтенду (в іншому терміналі)**

```bash
npm start
```

Додаток буде доступний за адресою: `http://localhost:3000`.

## SQL-Схеми Таблиць

Для коректної роботи поліморфізму, забезпечте наявність наступних колонок у ваших таблицях:

| Таблиця | Призначення | Колонки |
| :--- | :--- | :--- |
| `posts` | `image` | `id`, `user_id`, `title`, `content`, `image` (MEDIUMTEXT) |
| `movies` | `image` | `id`, `user_id`, `title`, `genre`, `year`, `image` (MEDIUMTEXT) |
| `likes` | Зв'язок | `post_id`, `user_id`, **`item_type`** (VARCHAR) |
| `comments` | Зв'язок | `post_id`, `author_id`, `content`, **`item_type`** (VARCHAR) |